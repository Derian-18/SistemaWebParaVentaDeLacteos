{% load static %}
<!DOCTYPE html>
<html>
    
<head>
    <title>Lista de Productos</title>
    <link rel="stylesheet" href="{% static 'productos/lista.css' %}">
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo-container">
            <div class="logo">ğŸ„</div>
            <div class="brand-text">
                <h1>Muuu y MÃ¡s</h1>
                <p>LÃ¡cteos Premium</p>
            </div>
        </div>
        <ul class="nav-links">
            <li><a href="{% url 'landingpage' %}">Inicio</a></li>
            <li><a href="{% url 'lista_productos' %}">Productos</a></li>
            <li><a href="{% url 'listar_categorias' %}">Categorias</a></li>
            <!--Esto lo que hace es que si no has iniciado sesion te muestra login, si ya iniciaste sesion te muestra logout-->
            {% if user.is_authenticated %}
            <li><a href="{% url 'logout' %}">Logout</a></li>
            {% else %}
            <li><a href="{% url 'login' %}">Login</a></li>
            {% endif %}
        </ul>
        <!-- Este boton se necesitara para la parte de compras (Retirar de landing page)
        <button class="cart-btn">ğŸ›’</button>-->
    </nav>

    <!--Productos-->
    <h1>Productos</h1>
    
    <!--Esto lo ue hace es que solo el rol admin puede ver ese boton de crear producto-->
    {% if user.is_authenticated and user.rol == "admin" %}
    <a href="{% url 'crear_producto' %}">â• Crear Producto</a>
    {% endif %}

    <table border="1">
        <tr>
            <th>Nombre</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Unidad</th>
            <th>CategorÃ­a</th>
            <th>Acciones</th>
        </tr>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.nombre }}</td>
            <td>${{ producto.precio }}</td>
            <td>{{ producto.stock }}</td>
            <td>{{ producto.unidad_medida }}</td>
            <td>{{ producto.categoria.nombre }}</td>
            <td>
                {% if user.is_authenticated and user.rol == "admin" %}
                <a href="{% url 'editar_producto' producto.id %}">âœï¸ Editar</a>
                <a href="{% url 'eliminar_producto' producto.id %}">ğŸ—‘ï¸ Eliminar</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
